{% extends '_layouts/base_portal.html' %}
{% load staticfiles %}

{% block title %}Vendors{% endblock title %}

{% block css %}{% endblock css %}

{% block header %}Vendors{% endblock header %}

{% block content %}
<section class="content">
  <div class="row">

      <div class="col-lg-6 col-md-12 col-xs-12">
        <div class="box">
          <div class="box-body">

            <table id="vendorTable" class="table table-striped">
              {% include "_includes/table_header.html" with header_class="basic-teal" header=table_headers %}
                <tbody>              
                  {% for vendor in vendors %}                           
                    <tr>
                      <td data-id="{{vendor.id}}" data-name="{{vendor.name|slugify}}">
                          <a href="#">{{ vendor.name }}</a>                
                      </td>
                      {% with vendor.get_primary_location as location %}
                      <td>{{location.city}}, {{location.country}}</td>
                      {% endwith %}  
                    </tr>
                  {% endfor %}
                </tbody>
            </table><br> 

            <div class="row">
              <div class="col-lg-12 col-xs-12">
                <!-- ADD VENDOR -->
                <button type="button" class="btn basic-teal pull-right" data-toggle="modal" data-target="#addModal">Add Vendor</button>
                {% include "_includes/modal_multiform.html" with target="Vendor" form1=vendor_form form2=location_form %}
                <a href="{% url 'upload_vendor_csv' %}"><button type="button" class="btn basic-grey pull-right">Upload Vendors CSV</button></a>
              </div>
            </div>

          </div>
        </div>
     </div>

    {% include '_includes/view_vendor.html' %}
  

  </div>
</section>
{% endblock content %}


{% block js %}
  {% include "_includes/dataTablesNotifications.html" with tableID="vendorTable" %}
  <script src="{% static 'dist/js/custom.js' %}"></script> 
  <script>
    $('#vendorDetailSection').hide();
  </script>
{% endblock js %}