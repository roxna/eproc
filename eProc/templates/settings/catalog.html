{% extends '_layouts/base_portal.html' %}
{% load staticfiles %}

{% block title %}Catalog{% endblock title %}

{% block css %}{% endblock css %}

{% block header %}
  <p class="small">{% include '_includes/back_to.html' with destination='settings' %}</p>

  <button type="button" class="btn basic-teal pull-right" data-toggle="modal" data-target="#addModal"><i class='fa fa-plus'> </i> Add Product</button>
  {% include "_includes/modal_singleform.html" with target="Product" form=product_form %}
  <a href="{% url 'upload_product_csv' %}"><button type="button" class="btn basic-grey pull-right">Upload Product Catalog CSV</button></a>
  
  <h1>Product Catalog</h1>
{% endblock header %}

{% block content %}
<section class="content">
  <div class="row">
    <div class="col-xs-12">
        <div class="box">

            <div class="box-body">
              <table id="catalogTable" class="table table-striped">
                {% include "_includes/table_header.html" with header_class="basic-teal" header=table_headers %}
                <tbody>              
                    {% for product in products %}                           
                    <tr>
                      <td>{{ product.name }}</td>
                      <td>{{ product.sku }}</td>
                      <td>{{ product.desc }}</td>
                      <td>{{ product.unit_price }}</td>
                      <td>{{ product.unit_type }}</td>
                      <td>{{ product.threshold }}</td>
                      <td>{{ product.category }}</td>
                      <td>{{ product.vendor_co }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table><br>
          </div>

        </div>
       </div>
    </div>
  </section>
{% endblock content %}


{% block js %}
  {% include "_includes/dataTablesNotifications.html" with tableID="catalogTable" %}
{% endblock js %}