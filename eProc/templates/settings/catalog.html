{% extends '_layouts/base_portal.html' %}
{% load staticfiles %}

{% block title %}Catalog{% endblock title %}

{% block css %}
<link rel="stylesheet" href="{% static 'plugins/datatables/dataTables.bootstrap.css' %}">
{% endblock css %}

{% block header %}<h1>Product Catalog</h1>{% endblock header %}

{% block content %}
<section class="content">
  <div class="row">
    <div class="col-xs-12">
        <div class="box">
            <!-- <div class="box-header">
              <h3 class="box-title">List of Products</h3>
            </div> -->
            <div class="box-body">
              <table id="catalogTable" class="table table-striped">
                <thead class="basic-teal">
                  <tr>
                    <th>Name</th>
                    <th>SKU</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Category</th>
                    <th>Vendor</th>
                  </tr>
                </thead>
                
                <tbody>              
                  {% for product in products %}                           
                    <tr>
                      <td>{{ product.name }}</td>
                      <td>{{ product.sku }}</td>
                      <td>{{ product.desc }}</td>
                      <td>{{ product.currency | upper}} {{ product.unit_price }} / {{ product.unit_type }}</td>
                      <td>{{ product.category }}</td>
                      <td>{{ product.vendorCo }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table><br>

              <button type="button" class="btn basic-teal pull-right" data-toggle="modal" data-target="#addModal">Add Product</button>
              {% include "_includes/singleform_modal.html" with target="Product" form=product_form %}
              <button type="button" class="btn basic-grey pull-right">Upload Product Catalog</button>

              </div>

        </div>
       </div>
    </div>
  </section>
{% endblock content %}


{% block js %}
<!-- DataTables -->
<script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'plugins/datatables/dataTables.bootstrap.min.js' %}"></script>
<script>
  $(function () {
    $('#catalogTable').DataTable();
  });
</script>
{% endblock js %}